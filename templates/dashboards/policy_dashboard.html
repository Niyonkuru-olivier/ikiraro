<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Policy Maker Dashboard</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='icons.css') }}">
  <style>
    body { font-family: Arial, sans-serif; background: #011f0f; margin: 0; padding: 0; color: #fff; }
    header { background: rgb(18, 46, 43); color: white; padding: 15px; text-align: center; border-bottom: 2px solid #4CAF50; }
    header h1 { color: #4CAF50; }
    .container { padding: 20px; display: grid; grid-template-columns: repeat(auto-fit, 
      minmax(250px, 1fr)); gap: 20px; }
    .card { background: rgba(18, 46, 43, 0.9); padding: 15px; border-radius: 8px; 
      box-shadow: 0 2px 5px rgba(76, 175, 80, 0.3); border: 1px solid #4CAF50; transition: transform 0.2s; cursor: pointer; color: #fff; }
    .card:hover { transform: scale(1.03); box-shadow: 0 4px 10px rgba(76, 175, 80, 0.5); border-color: #45a049; }
    h2 { color: #4CAF50; display: flex; align-items: center; }
    .stats { font-size: 18px; margin-top: 10px; color: #fff; }
    .card p { color: #fff; }
  </style>
</head>
<body>
  <header>
    <h1>Welcome, {{ user.full_name }} (Policy Maker)</h1>
  </header>
  <div class="container">

    <div class="card" onclick="window.location.href='/users/farmer'">
      <h2><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V21C3 22.11 3.89 23 5 23H11V21H5V3H13V9H21ZM14 10V12H16V10H14ZM18 10V12H20V10H18ZM14 14V16H16V14H14ZM18 14V16H20V14H18ZM14 18V20H16V18H14ZM18 18V20H20V18H18Z" fill="currentColor"/></svg> Farmers</h2>
      <p class="stats">{{ stats.farmers }} registered</p>
    </div>

    <div class="card" onclick="window.location.href='/users/dealer'">
      <h2><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19ZM7 10H9V17H7V10ZM11 7H13V17H11V7ZM15 13H17V17H15V13Z" fill="currentColor"/></svg> Agro-Dealers</h2>
      <p class="stats">{{ stats.dealers }} registered</p>
    </div>

    <div class="card" onclick="window.location.href='/users/processor'">
      <h2><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L2 7L12 12L22 7L12 2ZM2 17L12 22L22 17V12L12 17L2 12V17ZM2 12V17L12 22L22 17V12L12 7L2 12Z" fill="currentColor"/></svg> Processors & Customers</h2>
      <p class="stats">{{ stats.processors }} registered</p>
    </div>

    <div class="card" onclick="window.location.href='/users/researcher'">
      <h2><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V15H13V17ZM13 13H11V7H13V13Z" fill="currentColor"/><circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="1.5" fill="none"/></svg> Researchers & Experts</h2>
      <p class="stats">{{ stats.researchers }} registered</p>
    </div>

    <div class="card" onclick="window.location.href='/users/policy'">
      <h2><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1ZM12 7C13.4 7 14.8 8.6 14.8 10V11.5C15.4 11.5 16 12.1 16 12.7V16.2C16 16.8 15.4 17.3 14.8 17.3H9.2C8.6 17.3 8 16.7 8 16.1V12.6C8 12 8.6 11.5 9.2 11.5V10C9.2 8.6 10.6 7 12 7ZM12 8.2C11.2 8.2 10.5 8.7 10.5 9.5V11.5H13.5V9.5C13.5 8.7 12.8 8.2 12 8.2Z" fill="currentColor"/></svg> Policy Makers</h2>
      <p class="stats">{{ stats.policymakers }} registered</p>
    </div>

    <div class="card" onclick="window.location.href='/admin/create-account'" style="border: 2px solid #4CAF50; background: linear-gradient(135deg, #e8f5e9 0%, #ffffff 100%);">
      <h2><svg class="icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18 8H17V6C17 3.24 14.76 1 12 1C9.24 1 7 3.24 7 6V8H6C4.9 8 4 8.9 4 10V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V10C20 8.9 19.1 8 18 8ZM12 3C13.66 3 15 4.34 15 6V8H9V6C9 4.34 10.34 3 12 3ZM18 20H6V10H18V20Z" fill="currentColor"/><path d="M12 17C13.1 17 14 16.1 14 15C14 13.9 13.1 13 12 13C10.9 13 10 13.9 10 15C10 16.1 10.9 17 12 17Z" fill="currentColor"/></svg> Create Admin Account</h2>
      <p class="stats">Create Admin or Agro-Dealer accounts</p>
      <p style="font-size: 12px; color: #666; margin-top: 5px;">Click to create new admin or agro-dealer accounts</p>
    </div>

    <div class="card">
      <h2><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19ZM17 12H7V10H17V12ZM15 16H7V14H15V16ZM17 8H7V6H17V8Z" fill="currentColor"/></svg> Reports</h2>
      <p>Monthly productivity reports available for review.</p>
    </div>

    <div class="card">
      <h2><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 21H23L12 2L1 21ZM13 18H11V16H13V18ZM13 14H11V10H13V14Z" fill="currentColor"/></svg> Alerts</h2>
      <p>Upcoming drought risk in Eastern Province.</p>
    </div>

  </div>
  <script>
    function showToast(msg){
      var t=document.createElement('div');
      t.style.position='fixed';t.style.right='20px';t.style.bottom='20px';t.style.background='rgba(0,0,0,0.85)';
      t.style.color='#fff';t.style.padding='10px 14px';t.style.borderRadius='6px';t.style.fontSize='14px';
      t.style.boxShadow='0 2px 6px rgba(0,0,0,0.2)';t.style.opacity='0';t.style.transform='translateY(10px)';
      t.style.transition='opacity .25s ease, transform .25s ease';t.textContent=msg;document.body.appendChild(t);
      requestAnimationFrame(function(){t.style.opacity='1';t.style.transform='translateY(0)';});
      setTimeout(function(){t.style.opacity='0';t.style.transform='translateY(10px)'; setTimeout(function(){t.remove();},250);},2500);
    }
    // Example: toast when clicking any dashboard card
    document.querySelectorAll('.card').forEach(function(card){
      card.addEventListener('click', function(){ showToast('Opening: ' + (card.querySelector('h2')?.textContent || 'Section')); });
    });
  </script>
</body>
</html>
